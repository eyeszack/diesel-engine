#!/usr/bin/env groovy
import groovy.io.FileType

new File("${System.getenv()["DSLENGINE_HOME"]}/lib").eachFile(FileType.FILES) {
    this.class.classLoader.rootLoader.addURL(it.toURL())	
}

import org.codehaus.groovy.control.*

if (args) {
    def configuration = new CompilerConfiguration()
    configuration.setScriptBaseClass("me.dslengine.DSLEngineScript")
    def shell = new GroovyShell(configuration)
    shell.evaluate(new File(args[0]))
} else {
    println "usage: ./dslengine <input file>"
}